// js/data/monthly-plans-data.js
const MonthlyPlansData = {
    // Данные для Кургана (из CSV)
    'Курган': {
        week1: [
            {
                id: 'kurgan_week1_1',
                category: 'salary',
                description: 'Снятие наличных',
                explanation: '',
                ip: 'ИП Бондаренко *7254',
                card: '*7254',
                plan: 3000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_2', 
                category: 'products',
                description: 'Кофе, чай, сахар, печенье',
                explanation: '',
                ip: 'ИП Бондаренко *7254',
                card: '*7254',
                plan: 1500,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_3',
                category: 'household',
                description: 'Моющие средства, губки',
                explanation: '',
                ip: 'ИП Бобков *2911',
                card: '*2911',
                plan: 2500,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_4',
                category: 'medicaments',
                description: 'Аптечка первой помощи',
                explanation: '',
                ip: 'ИП Овсейко *1946',
                card: '*1946',
                plan: 1000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_5',
                category: 'stationery',
                description: 'Ручки, блокноты, бумага',
                explanation: '',
                ip: 'ИП Федчук *9967',
                card: '*9967',
                plan: 500,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_6',
                category: 'azs',
                description: 'Заправка автомобиля',
                explanation: '',
                ip: 'ИП Овсейко *1946',
                card: '*1946',
                plan: 1000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_7',
                category: 'cafe',
                description: 'Купить кофе/обед',
                explanation: '',
                ip: 'ИП Карбышев *2937',
                card: '*2937',
                plan: 2000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_8',
                category: 'repairs',
                description: 'Покупка штор',
                explanation: 'на 2 окна гардины и тюли в Кургане',
                ip: 'ИП Федчук *9967',
                card: '*9967',
                plan: 5000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week1_9',
                category: 'salary',
                description: 'за поездку и ремонт работы',
                explanation: '-поездка в Курганская область, Мишкинский р-н, село Краснознаменское, ул.Мира, д.4, кв.6\n-проверка почты у дома и в отделении почты.\n-Договориться с почтальоном чтобы писал когда есть письмо нам, взять контакт.\n-повесить шторы на 2 окнах',
                ip: 'ИП Федчук *9967',
                card: '*9967',
                plan: 8000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            }
        ],
        week2: [
            {
                id: 'kurgan_week2_1',
                category: 'salary',
                description: 'Снятие наличных',
                explanation: 'Есть смысл перенести на последнюю неделю',
                ip: 'ИП Бобков',
                card: '*2911',
                plan: 5000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_2',
                category: 'products',
                description: 'Кофе, чай, сахар, печенье',
                explanation: '',
                ip: 'ИП Бондаренко *7254',
                card: '*7254',
                plan: 1500,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_3',
                category: 'household',
                description: 'Бумажные полотенца, средства',
                explanation: '',
                ip: 'ИП Бобков *2911',
                card: '*2911',
                plan: 2500,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_4',
                category: 'polygraphy',
                description: 'Распечатать фото',
                explanation: '',
                ip: 'ИП Бондаренко *7254',
                card: '*7254',
                plan: 300,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_5',
                category: 'events',
                description: 'Купить билет в кино/театр',
                explanation: 'сайт кинотеатра / фото билета в чат',
                ip: 'ИП Овсейко *1946',
                card: '*1946',
                plan: 1250,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_6',
                category: 'repairs',
                description: 'Купить и повесить занавески',
                explanation: '',
                ip: 'ИП Карбышев *2937',
                card: '*2937',
                plan: 5000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_7',
                category: 'equipment',
                description: 'МФУ для офиса',
                explanation: '',
                ip: 'ИП Бобков',
                card: '*2911',
                plan: 0,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_8',
                category: 'cleaning',
                description: 'Мойка окон в офисе',
                explanation: 'На р/с организации',
                ip: 'ИП Овсейко *1946',
                card: '*1946',
                plan: 2000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week2_9',
                category: 'shipping',
                description: 'Упаковка посылок СДЭК',
                explanation: '',
                ip: '',
                card: '',
                plan: 1250,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            }
        ],
        week3: [
            {
                id: 'kurgan_week3_1',
                category: 'salary',
                description: 'Снятие наличных',
                explanation: 'проставить суммы заранее',
                ip: 'ИП Дюльгер',
                card: '',
                plan: 5000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week3_2',
                category: 'events',
                description: 'кино/выставки/музеи',
                explanation: '',
                ip: 'ИП Овсейко *1946',
                card: '*1946',
                plan: 1250,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week3_3',
                category: 'repairs',
                description: 'Ремонт дверного замка',
                explanation: '',
                ip: 'ИП Карбышев',
                card: '*2937',
                plan: 3750,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week3_4',
                category: 'azs',
                description: 'Заправка автомобиля',
                explanation: '',
                ip: 'ИП Овсейко *1946',
                card: '*1946',
                plan: 1000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week3_5',
                category: 'equipment',
                description: 'Компьютерное оборудование',
                explanation: '',
                ip: '',
                card: '',
                plan: 0,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week3_6',
                category: 'insurance',
                description: '-',
                explanation: '',
                ip: '',
                card: '',
                plan: 0,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            }
        ],
        week4: [
            {
                id: 'kurgan_week4_1',
                category: 'salary',
                description: 'Снятие наличных',
                explanation: '',
                ip: 'ИП Федчук',
                card: '*9967',
                plan: 5000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week4_2',
                category: 'repairs',
                description: 'Финальные ремонтные работы',
                explanation: '',
                ip: 'ИП Бондаренко',
                card: '*7254',
                plan: 5000,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week4_3',
                category: 'household',
                description: 'Оргтехника',
                explanation: '',
                ip: 'ИП Федчук',
                card: '*9967',
                plan: 0,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week4_4',
                category: 'equipment',
                description: 'Финальные тех. закупки',
                explanation: '',
                ip: '',
                card: '',
                plan: 0,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week4_5',
                category: 'stationery',
                description: 'Ручки, блокноты, бумага',
                explanation: '',
                ip: 'ИП Федчук *9967',
                card: '*9967',
                plan: 500,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            },
            {
                id: 'kurgan_week4_6',
                category: 'shipping',
                description: 'Финальные отправления',
                explanation: '',
                ip: '',
                card: '',
                plan: 1250,
                fact: 0,
                status: 'planned',
                dateCompleted: ''
            }
        ]
    },
    
    // Данные для других регионов (пока пустые)
    'Астрахань': { week1: [], week2: [], week3: [], week4: [] },
    'Бурятия': { week1: [], week2: [], week3: [], week4: [] },
    'Калмыкия': { week1: [], week2: [], week3: [], week4: [] },
    'Мордовия': { week1: [], week2: [], week3: [], week4: [] },
    'Удмуртия': { week1: [], week2: [], week3: [], week4: [] }
};

// Функция для получения плана региона
function getMonthlyPlan(region) {
    return MonthlyPlansData[region] || { week1: [], week2: [], week3: [], week4: [] };
}

// Функция для обновления задачи
function updateMonthlyTask(region, week, taskId, updates) {
    const weekKey = `week${week}`;
    const weekData = MonthlyPlansData[region]?.[weekKey];
    if (weekData) {
        const taskIndex = weekData.findIndex(task => task.id === taskId);
        if (taskIndex !== -1) {
            MonthlyPlansData[region][weekKey][taskIndex] = {
                ...MonthlyPlansData[region][weekKey][taskIndex],
                ...updates
            };
            return true;
        }
    }
    return false;
}