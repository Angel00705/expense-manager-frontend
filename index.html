<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Expense Manager</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><defs><linearGradient id='borderGrad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%238b5cf6'/><stop offset='50%' stop-color='%236d28d9'/><stop offset='100%' stop-color='%231e40af'/></linearGradient><linearGradient id='checkGrad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23a78bfa'/><stop offset='100%' stop-color='%234f46e5'/></linearGradient><filter id='glow' x='-50%' y='-50%' width='200%' height='200%'><feGaussianBlur in='SourceGraphic' stdDeviation='1' result='blur'/><feMerge><feMergeNode in='blur'/><feMergeNode in='SourceGraphic'/></feMerge></filter></defs><circle cx='10' cy='10' r='9' fill='none' stroke='url(%23borderGrad)' stroke-width='1.5' opacity='0.9'/><path d='M6,10 L8.5,12.5 L14,7' stroke='url(%23checkGrad)' stroke-width='2.5' fill='none' stroke-linecap='round' stroke-linejoin='round' filter='url(%23glow)'/></svg>">
</head>
<body>
    <div class="container">
        <div class="glass-card" style="max-width: 400px; margin: 100px auto; padding: 40px; text-align: center;">
            <h1 style="margin-bottom: 8px; color: var(--primary);">üéØ IP Expense Manager</h1>
            <p style="color: var(--text-light); margin-bottom: 32px;">–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞–º–∏ –ò–ü</p>
            
            <form id="loginForm">
                <div class="form-group">
                    <input type="email" class="form-control" id="email" placeholder="üìß Email" required>
                </div>
                <div class="form-group">
                    <input type="password" class="form-control" id="password" placeholder="üîí –ü–∞—Ä–æ–ª—å" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">
                    üöÄ –í–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É
                </button>
            </form>
            
            <div style="margin-top: 24px; padding-top: 24px; border-top: 1px solid var(--border-light);">
                <p style="color: var(--text-light); margin-bottom: 16px;">–ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</p>
                <button type="button" class="btn btn-outline" style="width: 100%; margin-bottom: 8px;" 
                        onclick="fillCredentials('admin@test.ru', 'admin123')">
                    üë®‚Äçüíº –í–æ–π—Ç–∏ –∫–∞–∫ –ê–¥–º–∏–Ω
                </button>
                <button type="button" class="btn btn-outline" style="width: 100%;" 
                        onclick="fillCredentials('astrakhan@test.ru', 'manager123')">
                    üë©‚Äçüíº –í–æ–π—Ç–∏ –∫–∞–∫ –ú–µ–Ω–µ–¥–∂–µ—Ä
                </button>
            </div>
        </div>
    </div>

    <!-- –ü–ï–†–ï–ù–ï–°–ò–¢–ï –°–ö–†–ò–ü–¢–´ –°–Æ–î–ê - –í –ö–û–ù–ï–¶ BODY -->
    <script src="js/utils.js"></script>
    <script src="js/data.js"></script>
    
    <script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('üè† –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
    
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
    Auth.init();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é, –Ω–æ –ù–ï –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º —Å—Ä–∞–∑—É
    console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...');
    console.log('–¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:', Auth.currentUser);
    
    // –ü–û–ö–ê–ó–´–í–ê–ï–ú —Ñ–æ—Ä–º—É –≤—Ö–æ–¥–∞, –¥–∞–∂–µ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
    // –≠—Ç–æ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ–π—Ç–∏ –ø–æ–¥ –¥—Ä—É–≥–∏–º –∞–∫–∫–∞—É–Ω—Ç–æ–º
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞
    document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        
        console.log('üìß –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞:', email);
        
        if (!email || !password) {
            alert('‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
            return;
        }
        
        const result = Auth.login(email, password);
        
        if (result.success) {
            alert('‚úÖ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ' + result.user.name + '!');
            setTimeout(() => {
                window.location.href = 'dashboard.html';
            }, 1000);
        } else {
            alert('‚ùå ' + result.error);
        }
    });
    
    // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"
    if (Auth.currentUser) {
        const quickAccessDiv = document.querySelector('.quick-access');
        if (quickAccessDiv) {
            const continueBtn = document.createElement('button');
            continueBtn.type = 'button';
            continueBtn.className = 'btn btn-success';
            continueBtn.style.width = '100%';
            continueBtn.style.marginBottom = '8px';
            continueBtn.innerHTML = 'üöÄ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ ' + Auth.currentUser.name;
            continueBtn.onclick = function() {
                window.location.href = 'dashboard.html';
            };
            quickAccessDiv.parentNode.insertBefore(continueBtn, quickAccessDiv);
        }
    }
});
</script>
</body>
</html>