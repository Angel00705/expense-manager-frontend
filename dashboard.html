<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∞—à–±–æ—Ä–¥ - Expense Manager</title>
    
    <!-- üé® FAVICON -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'><defs><linearGradient id='borderGrad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%238b5cf6'/><stop offset='50%' stop-color='%236d28d9'/><stop offset='100%' stop-color='%231e40af'/></linearGradient><linearGradient id='checkGrad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23a78bfa'/><stop offset='100%' stop-color='%234f46e5'/></linearGradient><filter id='glow' x='-50%' y='-50%' width='200%' height='200%'><feGaussianBlur in='SourceGraphic' stdDeviation='1' result='blur'/><feMerge><feMergeNode in='blur'/><feMergeNode in='SourceGraphic'/></feMerge></filter></defs><circle cx='10' cy='10' r='9' fill='none' stroke='url(%23borderGrad)' stroke-width='1.5' opacity='0.9'/><path d='M6,10 L8.5,12.5 L14,7' stroke='url(%23checkGrad)' stroke-width='2.5' fill='none' stroke-linecap='round' stroke-linejoin='round' filter='url(%23glow)'/></svg>">
    
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/components.css">
    <link rel="stylesheet" href="./css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <div class="logo">üí∞</div>
                <h1>Expense Manager</h1>
            </div>
            <div class="header-right">
                <span class="user-info" id="userInfo">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                <button class="btn-secondary" id="logoutBtn">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="dashboard-main">
            <div class="welcome-section">
                <h2>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, <span id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>!</h2>
                <p>–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–∞–º–∏ –¥–ª—è –ò–ü</p>
            </div>

            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üè¢</div>
                    <div class="stat-content">
                        <h3>27</h3>
                        <p>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ø—Ä–∏–Ω–∏–º–∞—Ç–µ–ª–µ–π</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üó∫Ô∏è</div>
                    <div class="stat-content">
                        <h3>6</h3>
                        <p>–†–µ–≥–∏–æ–Ω–æ–≤ —Ä–∞–±–æ—Ç—ã</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí≥</div>
                    <div class="stat-content">
                        <h3>42</h3>
                        <p>–ë–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –∫–∞—Ä—Ç—ã</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-content">
                        <h3>12</h3>
                        <p>–£–ø—Ä–∞–≤–ª—è—é—â–∏—Ö</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="actions-section">
                <h3>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h3>
                <div class="actions-grid">
                    <button class="action-btn" onclick="window.location.href='create-task.html'">
                        <span class="action-icon">üìã</span>
                        <span class="action-text">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É</span>
                    </button>
                    <button class="action-btn" onclick="window.location.href='expense-items.html'">
                        <span class="action-icon">üìä</span>
                        <span class="action-text">–°—Ç–∞—Ç—å–∏ —Ä–∞—Å—Ö–æ–¥–æ–≤</span>
                    </button>
                    <button class="action-btn" onclick="window.location.href='cards.html'">
                        <span class="action-icon">üí≥</span>
                        <span class="action-text">–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã</span>
                    </button>
                    <button class="action-btn" onclick="window.location.href='tasks.html'">
                        <span class="action-icon">‚úÖ</span>
                        <span class="action-text">–ú–æ–∏ –∑–∞–¥–∞—á–∏</span>
                    </button>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="activity-section">
                <h3>–ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h3>
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">üìù</div>
                        <div class="activity-content">
                            <p>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞ –¥–ª—è –ò–ü "–í–æ—Å—Ç–æ–∫"</p>
                            <span class="activity-time">2 –º–∏–Ω—É—Ç—ã –Ω–∞–∑–∞–¥</span>
                        </div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-icon">‚úÖ</div>
                        <div class="activity-content">
                            <p>–ó–∞–¥–∞—á–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ - –ò–ü "–°–µ–≤–µ—Ä"</p>
                            <span class="activity-time">1 —á–∞—Å –Ω–∞–∑–∞–¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
            const token = localStorage.getItem('auth_token');
            const userEmail = localStorage.getItem('user_email');
            const userRole = localStorage.getItem('user_role');
            
            if (!token) {
                window.location.href = 'login.html';
                return;
            }

            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
            document.getElementById('userName').textContent = userEmail;
            document.getElementById('userInfo').textContent = `${userEmail} (${userRole === 'accountant' ? '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä' : '–£–ø—Ä–∞–≤–ª—è—é—â–∏–π'})`;

            // –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
            document.getElementById('logoutBtn').addEventListener('click', function() {
                localStorage.removeItem('auth_token');
                localStorage.removeItem('user_email');
                localStorage.removeItem('user_role');
                window.location.href = 'login.html';
            });
        });
    </script>
</body>
</html>