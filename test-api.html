<!DOCTYPE html>
<html>
<head>
    <title>Test API</title>
</head>
<body>
    <h1>API Test</h1>
    <div>
        <button onclick="testConnection()">Test Server Connection</button>
        <button onclick="testAPI()">Test API Methods</button>
    </div>
    <div id="result" style="margin-top: 20px; font-family: monospace;"></div>

    <script src="js/api.js"></script>
    <script>
        function log(message) {
            const result = document.getElementById('result');
            result.innerHTML += message + '<br>';
        }

        async function testConnection() {
            log('üîç Testing server connection...');
            try {
                const response = await fetch('https://expense-manager-backend-kq9h.onrender.com/api/health');
                if (response.ok) {
                    const data = await response.json();
                    log('‚úÖ Server is UP: ' + JSON.stringify(data));
                } else {
                    log('‚ùå Server error: ' + response.status);
                }
            } catch (error) {
                log('‚ùå Cannot connect to server: ' + error.message);
            }
        }

        async function testAPI() {
            log('üîç Testing API methods...');
            try {
                // Test if API is defined
                if (typeof API === 'undefined') {
                    log('‚ùå API is not defined');
                    return;
                }
                log('‚úÖ API class is defined');

                // Test regions
                const regions = await API.getRegions();
                log('‚úÖ Regions loaded: ' + regions.length);

                // Test expense items
                const items = await API.getExpenseItems();
                log('‚úÖ Expense items: ' + items.length);

            } catch (error) {
                log('‚ùå API Error: ' + error.message);
            }
        }
    </script>
</body>
</html>